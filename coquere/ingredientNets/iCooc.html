<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
		<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
		<script src = "http://d3js.org/d3.v3.min.js"></script>
		<script src="http://d3js.org/d3.v2.min.js?2.8.1"></script>
		<script src="../js/query.js"></script>
		<script src="http://static.cybercommons.org/js/d3/lib/colorbrewer/colorbrewer.js" type="text/javascript"></script>
		<link rel="stylesheet" href="css/style.css" />	
		<link rel="stylesheet" href="http://static.cybercommons.org/js/d3/lib/colorbrewer/colorbrewer.css" />	
		<script>
			var cuisine = getQueryVariable("cuisine");
			var dropDownNetType = ["Cooccurence in recipes", "Positive correlation of ingredients", "Negative correlation of ingredients", "Conditional probability", "Pairwise mutual information"];
			var dropDownNetTypeCodes = ["cooc", "ccf_pos", "ccf_neg", "cp", "pmi"];
			window.onload = function(){
				var jsonFile = "data/" + cuisine + "_" + dropDownNetTypeCodes[0] + ".json";
				var url = "netMat.html?file=" + jsonFile;
				document.getElementById("map").src = url;
			}	

		</script>
	</head>
	<body>
		<div>
			<div style="width: 500px; float: left;">
				<label for="chooseNetType" >Choose Network Type:</label>
				<select id="chooseNetType"></select>
			</div>
			<div style="margin-left: 500px;" >
				<ul class="check-list">
					<li>Pick a network type to see cuisine behavior. </li>
				</ul>
			</div>
		</div>
		<div id="gNetMat">
			<iframe id='map' scrolling="no" allowfullscreen width=100% height=900 frameborder="0"></iframe>
		</div>

		<script>
			var dropDown = d3.select("#chooseNetType")
			    .on("change", function() {
					nodeId = this.selectedIndex;
					netType = dropDownNetTypeCodes[nodeId];
					var jsonFile = "data/" + cuisine + "_" + netType + ".json";
					var url = "netMat.html?file=" + jsonFile;
					document.getElementById("map").src = url;
				})
			    .selectAll("option")
			    .data(dropDownNetType)
			    .enter()
			    .append("option")
			    .attr("value", function(d) { return d;} )
			    .text(function(d) {return d;});

		</script>
	</body>
</html>
