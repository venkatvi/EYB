<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>DataStatistics</title>
		<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
		<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
		<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
		<script src = "http://d3js.org/d3.v3.min.js"></script>
		<script src="../js/query.js"></script>
		<link rel="stylesheet" href="css/style.css" />	
		<style>
		 #tabs .tabs-spacer { float: left; height: 200px; }
		  .tabs-bottom .ui-tabs-nav { clear: left; padding: 0 .2em .2em .2em; }
		  .tabs-bottom .ui-tabs-nav li { top: auto; bottom: 0; margin: 0 .2em 1px 0; border-bottom: auto; border-top: 0; }
		  .tabs-bottom .ui-tabs-nav li.ui-tabs-active { margin-top: -1px; padding-top: 1px; }
		</style>
		 
		<script>
  		 var dropDownNetType = ["Cooccurence in recipes", "Positive correlation of ingredients", "Negative correlation of ingredients", "Conditional probability", "Pairwise mutual information"];
		 var dropDownNetTypeCodes = ["cooc", "ccf_pos", "ccf_neg", "cp", "pmi"];

		  $(function() {
		    $( "#tabs" ).tabs();
		 
		    // fix the classes
		    $( ".tabs-bottom .ui-tabs-nav, .tabs-bottom .ui-tabs-nav > *" )
		      .removeClass( "ui-corner-all ui-corner-top" )
		      .addClass( "ui-corner-bottom" );
		 
		    // move the nav to the bottom
		    $( ".tabs-bottom .ui-tabs-nav" ).appendTo( ".tabs-bottom" );
		  });
		  window.onload = function(){
			document.getElementById("freqDist").src = getUrl("freqdist.html");
			//we would want to use mashNetStat.html with clco evetually for clustering coefficient. 
			//document.getElementById("cluscoeff").src = getUrl("cluscoeff.html");
			document.getElementById("cluscoeff").src = appendUrl("mashNetStat.html?prop=clco&net=" + dropDownNetTypeCodes[0]);
			document.getElementById("avgNDeg").src = appendUrl("mashNetStat.html?prop=and&net=" + dropDownNetTypeCodes[0]);
			document.getElementById("degCent").src = appendUrl("mashNetStat.html?prop=dc&net=" + dropDownNetTypeCodes[0]);
			document.getElementById("cloCent").src = appendUrl("mashNetStat.html?prop=cc&net=" + dropDownNetTypeCodes[0]);
			document.getElementById("betCent").src = appendUrl("mashNetStat.html?prop=bc&net=" + dropDownNetTypeCodes[0]);
			document.getElementById("eigCent").src = appendUrl("mashNetStat.html?prop=ec&net=" + dropDownNetTypeCodes[0]);
			document.getElementById("comCent").src = appendUrl("mashNetStat.html?prop=comc&net=" + dropDownNetTypeCodes[0]);
		  }
		  function getUrl(rootUrl) {
			var cuisine = getQueryVariable("cuisine");
			var url = rootUrl + "?cuisine=" + cuisine ;
			return url;
		  }	
		  function appendUrl(rootUrl) {
			var cuisine = getQueryVariable("cuisine");
			var url = rootUrl + "&cuisine=" + cuisine;
			return url;
		  }	
		</script>
	</head>
	<body>
		<div>
			<div style="width: 500px; float: left;">
				<label for="chooseNetType" >Choose Network Type:</label>
				<select id="chooseNetType"></select>
			</div>
			<div style="margin-left: 500px;" >
				<ul class="check-list">
					<li>Pick a network type to see cuisine behavior. </li>
				</ul>
			</div>

		</div>	
		 <div id="tabs" class="tabs-bottom" style="height: 980px">
			<ul>
				<li class="litab"><a href="#freq">Ingredient Frequency</a></li>
				<li class="litab"><a href="#and">Average Neighbour Degree</a></li>
				<li class="litab"><a href="#cc">Clustering Coefficient</a></li>
				<li class="litab"><a href="#dc">Degree Centrality</a></li>
				<li class="litab"><a href="#clc">Closeness Centrality</a></li>
				<li class="litab"><a href="#bet">Betweeness Centrality</a></li>
				<li class="litab"><a href="#ec">Eigen vector Centrality</a></li>
				<li class="litab"><a href="#comc">Communicability Centrality</a></li>
			</ul>
			<div class="tabs-spacer"></div>
			<div id="freq">
				<iframe id='freqDist' scrolling="no" allowfullscreen width=100% height=820 frameborder="0"></iframe>
			</div>
			<div id="and">
				<iframe id='avgNDeg' scrolling="no" allowfullscreen width=100% height=820 frameborder="0"></iframe>
			</div>
			<div id="cc">
				<iframe id='cluscoeff' scrolling="no" allowfullscreen width=100% height=820 frameborder="0"></iframe>
			</div>
			<div id="dc">
				<iframe id='degCent' scrolling="no" allowfullscreen width=100% height=820 frameborder="0"></iframe>
			</div>

			<div id="clc">
				<iframe id='cloCent' scrolling="no" allowfullscreen width=100% height=820 frameborder="0"></iframe>
			</div>
			<div id="bet">
				<iframe id='betCent' scrolling="no" allowfullscreen width=100% height=820 frameborder="0"></iframe>
			</div>
			<div id="ec">
				<iframe id='eigCent' scrolling="no" allowfullscreen width=100% height=820 frameborder="0"></iframe>
			</div>
			<div id="comc">
				<iframe id='comCent' scrolling="no" allowfullscreen width=100% height=820 frameborder="0"></iframe>
			</div>
		</div>
	<script>
		var dropDownNetType = ["Cooccurence in recipes", "Positive correlation of ingredients", "Negative correlation of ingredients", "Conditional probability", "Pairwise mutual information"];
		 var dropDownNetTypeCodes = ["cooc", "ccf_pos", "ccf_neg", "cp", "pmi"];


		 var dropDown = d3.select("#chooseNetType")
		    .on("change", function() {
				nodeId = this.selectedIndex;
				netType = dropDownNetTypeCodes[nodeId];
				document.getElementById("freqDist").src = getUrl("freqdist.html");
				document.getElementById("cluscoeff").src = appendUrl("mashNetStat.html?prop=clco&net=" + netType);
				document.getElementById("avgNDeg").src = appendUrl("mashNetStat.html?prop=and&net=" + netType);
				document.getElementById("degCent").src = appendUrl("mashNetStat.html?prop=dc&net=" + netType);
				document.getElementById("cloCent").src = appendUrl("mashNetStat.html?prop=cc&net=" + netType);
				document.getElementById("betCent").src = appendUrl("mashNetStat.html?prop=bc&net=" + netType);
				document.getElementById("eigCent").src = appendUrl("mashNetStat.html?prop=ec&net=" + netType);
				document.getElementById("comCent").src = appendUrl("mashNetStat.html?prop=comc&net=" + netType);
			})
		    .selectAll("option")
		    .data(dropDownNetType)
		    .enter()
		    .append("option")
		    .attr("value", function(d) { return d;} )
		    .text(function(d) {return d;});

	</script>
	</body>
</html>

