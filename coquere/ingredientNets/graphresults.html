<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>jQuery UI Tabs - Default functionality</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
  <script src="../js/query.js"></script>
  <script src = "http://d3js.org/d3.v3.min.js"></script>
  <link rel="stylesheet" href="css/style.css" />	
  <script>
  window.onload = function(){
	document.getElementById("map").src = getUrl("graphmap.html", dropDownCodes[0], dropDownNetTypeCodes[0]);
  }
  var dropDownNetType = ["Cooccurence in recipes", "Positive correlation of ingredients", "Negative correlation of ingredients", "Conditional probability", "Pairwise mutual information"];
  var dropDownNetTypeCodes = ["cooc", "ccf_pos", "ccf_neg", "cp", "pmi"];
  var dropDownNodes = ["Assortative Coefficient","Transitivity", "Avg Clustering Coefficient", "Degree Centrality", "Betweeness Centrality", "Closeness"];
  var dropDownCodes = ["asco", "trans", "avcc", "degc", "betc", "cloc"]; 
  function getUrl(rootUrl, code, netType) {
	var url = rootUrl + "?prop=" + code + "&net=" + netType;
	return url;
  }	
</script>
</head>
<body>
	<div>
		<div style="width: 500px; float: left;">
			<label for="chooseNetType" >Choose Network Type:</label>
			<select id="chooseNetType"></select>
		</div>
		<div style="margin-left: 500px;" >
			<ul class="check-list">
				<li>Pick a network type to see cuisine behavior. </li>
			</ul>
		</div>

	</div>	

	<div>
		<div style="width: 500px; float: left;">
			<label for="chooseNode" >Choose Network Property:</label>
			<select id="chooseNode"></select>
		</div>
		<div style="margin-left: 500px;" >
			<ul class="check-list">
				<li>Pick a network property to see cuisine behavior. </li>
			</ul>
		</div>

	</div>	
	<script>
	 var dropDown = d3.select("#chooseNetType")
		    .on("change", function() {
				nodeId = this.selectedIndex;
				netType = dropDownNetTypeCodes[nodeId];
				codeDropDown = document.getElementById("chooseNode");
				code = dropDownCodes[codeDropDown.selectedIndex];
				document.getElementById("map").src = getUrl("graphmap.html", code, netType);
			})
		    .selectAll("option")
		    .data(dropDownNetType)
		    .enter()
		    .append("option")
		    .attr("value", function(d) { return d;} )
		    .text(function(d) {return d;});
	 var dropDown = d3.select("#chooseNode")
		    .on("change", function() {
				nodeId = this.selectedIndex;
				code = dropDownCodes[nodeId];
				netTypeDropDown = document.getElementById("chooseNetType");
				netType = dropDownNetTypeCodes[netTypeDropDown.selectedIndex];
				document.getElementById("map").src = getUrl("graphmap.html", code, netType);
			})
		    .selectAll("option")
		    .data(dropDownNodes)
		    .enter()
		    .append("option")
		    .attr("value", function(d) { return d;} )
		    .text(function(d) {return d;});

  </script>

	 <div id="gmap">
		<iframe id='map' scrolling="no" allowfullscreen width=100% height=900 frameborder="0"></iframe>
	  </div>
</body>
</html>
